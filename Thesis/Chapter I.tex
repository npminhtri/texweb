\chapter{$\SO2\backslash\SLR$} % Sets article title

In this chapter, I will give an exposition on the structure of $\SLR$ as the spaces of lattice, this space
plays the role of a toy model before exploring the space of lattice in the higher rank. The exposition follows  \cite[Chapter I]{MR3468028} closely.
\section{$\SLR$ and its action on the upper half plane $\uH$}
Consider the upper half plane
\[\uH = \left\lbrace z: \Im z >0 \right\rbrace \subset \mathbb{C}.\]

We define the action of $G= \SLR$ on $\uH$ as follows
\[
  \begin{bmatrix}a & b \\ c & d\end{bmatrix} \circ (z) := \frac{dz -b}{-cz + a}
\]
We need to check that this is indeed an action. It is routine to check that
\[
  \begin{bmatrix}\frac{1}{\sqrt{y}} & 0 \\ 0 & \sqrt{y}\end{bmatrix}\begin{bmatrix}1 & -x \\ 0 & 1\end{bmatrix}\circ(i) = x + iy \quad (\text{for } x \in \mathbb{R}, \, y > 0)
\]
Moreover, we have
\[
  2i \cdot \text{$\Im$} \left( \begin{bmatrix} d & -b \\ -c & a \end{bmatrix} \circ(z) \right) = \frac{az + b}{cz + d} - \frac{d\overline{z} + b}{c\overline{z} + d} = \frac{(az + b)(c\overline{z} + d) - (a\overline{z} + b)(cz + d)}{|cz + d|^2}
\]
\[
  = \frac{adz - bc\overline{z} - bcz + ad\overline{z}}{|cz + d|^2} = \frac{z - \overline{z}}{|cz + d|^2}
\]
since \( ad - bc = 1 \).
In particular, we have the following Proposition
\begin{prop}\label{h-as-matrices}
  The group $\SLR$ acts transitively on \(\mathfrak{H}\). In particular,
  \[
    \begin{bmatrix}\frac{1}{\sqrt{y}} & 0 \\ 0 & \sqrt{y}\end{bmatrix}\begin{bmatrix}1 & -x \\ 0 & 1\end{bmatrix}\circ(i) = x + iy \quad (\text{for } x \in \mathbb{R}, \, y > 0)
  \]
  Further, for \(g = \begin{bmatrix}a & b \\ c & d\end{bmatrix} \in SL_{2}(\mathbb{R})\) and \(z \in \mathfrak{H}\),
  \[
    \text{$\Im$}\,(g\circ z) = \frac{\text{$\Im$}\,z}{|cz + d|^2}.
  \]
\end{prop}

\begin{remark}
  In many texts, the above action is defined as
  \[
    \begin{bmatrix}a & b \\ c & d\end{bmatrix} \circ (z) := \frac{az+b}{cz + d}
  \]
  The side of the action doesn't really matter here, as we can recover the whole theory by switching between the left/right action.
  However, the result of this thesis follows the recent paper \cite{MR2977413}, which use the inverse action. That's why we follow the same notations set up in that paper.
\end{remark}

The point $z = i$ is special, in the sense that its stability group is the orthogonal group $K =\SO2$. Indeed, for any \(g = \begin{bmatrix}d & -b \\ -c & a\end{bmatrix} \in SL_{2}(\mathbb{R})\)  we have
that
\[g \circ i = i \Leftrightarrow \dfrac{ai+b}{ci+d }=i \Leftrightarrow a=d \text{ and } b = -c \]
Combinining with the fact that $ad-bc=1$, we must have $a^2 + b^2=1$. This implies that there is a $\theta$ such that $a = \cos\theta$ and $b = \sin \theta$.
Since $G$ acts on $\uH$ transitively, we know from group theory that there is a bijection between the collection of cosets of
$\text{Stab}(i)$ in $G$ and the orbits of $i$. It is also useful to consider the group that stabilizes
the point at infinity, which we include in the following proposition
\begin{prop}\label{upper-group}
  \hfill
  \begin{enumerate}
    \item $\text{Stab}(i) = \SO2$.
    \item We have a bijection between the left cosets spaces and the upper half plane given by
          \[
            \SO2\backslash\SLR \cong \mathfrak{H} \quad \text{via} \quad  SO(2)g \to g^{-1}(i)
          \]
    \item  $\text{Stab}(\infty) := \Gamma_\infty:= \left\lbrace \begin{bmatrix}
              1 & x \\
              0 & 1
            \end{bmatrix}: x \in \mathbb{R}\right\rbrace$
  \end{enumerate}
\end{prop}
\section{Fundamental domain}
Let $\Gamma = \slz$ and consider its action on $\uH$.
\[
  \begin{tikzpicture}[scale=4]
    \draw[densely dashed] (1,0) arc (0:60:1) (-1,0) arc (180:120:1);
    \draw[very thick, fill=gray!30] (.5,1.5) --node[right, pos=1]{$e^{2\pi i/6}=\rho$} (60:1) arc (60:120:1)
    --node[left, pos=.1]{$\rho^2=e^{2\pi i/3}$} (-.5,1.5);
    \draw[-latex] (-1.2,0) -- (1.2,0)node[below]{$\Re$};
    \draw[-latex] (0,-.2) -- (0,1.7)node[right]{$\Im$};
    \path(-1,0) --node[below, pos=0]{$-1$}node[below right, pos=.5]{0}node[below, pos=1]{1} (1,0)
    (0,1)node[below right]{$i$};
    \draw(-.5,.02)--(-.5,-.02)node[below]{$-\frac{1}{2}$}(.5,.02)--(.5,-.02)node[below]{$\frac{1}{2}$};
  \end{tikzpicture}\]
The goal of this section is to prove that under the action of the $\Gamma = \slz$, we can "move"
every points on the upper half plane into a domain pictued above.
This is similar to the fundamental domain given by the translation action of $\mathbb{Z}$ to $\mathbb{R}$ is the half-open
unit interval $[0,1)$. In general, this give a simpler description to the homogenous space of lattice.

Note that when we try to compute the fundamental domain of $\mathbb{Z}\backslash \mathbb{R}$, we have $\mathbb{Z}$ plays a role of
\textit{discrete} subset of $\mathbb{R}$. We give a precise definition of discreteness as follows
\begin{definition}
  Let a group $G$ act continuously on a topological space $X$. A subset $\Gamma \subset G$ is called \textbf{discrete} if for any two compact subse
  $A,B$ in $X$, there are only finitely many $g \in \Gamma$ such that $g \circ A \cap B \ne \emptyset$.
\end{definition}
We will prove that the set
\[\Gamma = \slz = \left\lbrace \begin{bmatrix}
    a & b \\
    c & d
  \end{bmatrix} \in \SLR: a, b, c, d \in \mathbb{Z}\right\rbrace\]
is a discrete subgroup of $G = \SLR$.
To prove this, we first need the following lemma
\begin{lemma}\label{lm2}
  Fix a real number $r>0$ and $0<\delta<1$. We denote $R_{r,\delta}$ the rectangle
  \[R_{r,\delta} = \left\lbrace z = x+iy: -r \le x \le r, 0 <\delta \le y \le \delta^{-1}\right\rbrace\]
  Then for any $\epsilon >0$ and any fixed set $\mathbb{S}$ of coset representatives for $\Gamma_\infty\backslash \Gamma$, there are finitely
  many $g \in \mathbb{S}$ such that $\Im(g\circ z)>\epsilon$ for some $z \in R_{r,\delta}$.
\end{lemma}

\begin{proof}
  Let \( g = \begin{bmatrix} d & -b \\ -c & a \end{bmatrix} \). Then for \( z \in R_{r, \delta} \),
  \[
    \text{Im}(g \circ z) = \frac{y}{c^2 y^2 + (cx + d)^2} < \epsilon
  \]
  if \( |c| > (y \epsilon)^{-\frac{1}{2}} \). On the other hand, for \( |c| \leq (y \epsilon)^{-\frac{1}{2}} \leq (\delta \epsilon)^{-\frac{1}{2}} \), we have
  \[
    \frac{y}{(cx + d)^2} < \epsilon
  \]
  if the following inequalities hold:
  \[
    |d| > |c| r + (y \epsilon^{-1})^{\frac{1}{2}} \geq |c| r + (\epsilon \delta)^{-\frac{1}{2}}.
  \]
  Consequently, \(\Im(g \circ z) > \epsilon\) only if
  \[
    |c| \leq (\delta \epsilon)^{-\frac{1}{2}} \quad \text{and} \quad |d| \leq (\epsilon \delta)^{-\frac{1}{2}} (r + 1),
  \]
  and the total number of such pairs (not counting $(c, d) = (0, \pm 1), (\pm 1, 0)$) is at most $\frac{4(r+1)} {(\epsilon \delta)}$. This proves the lemma.
\end{proof}
It follows from Lemma \ref{lm2} that $\Gamma = \text{SL}(2, \mathbb{Z})$ is a discrete subgroup of $SL(2, \mathbb{R})$. This is because:

\begin{enumerate}
  \item It is enough to show that for any compact subset $A \subset \mathfrak{H}$ there are only finitely many $g \in SL(2, \mathbb{Z})$ such that $(g \circ A) \cap A \neq \phi$;

  \item Every compact subset of $A \subset \mathfrak{H}$ is contained in a rectangle $R_{r,\delta}$ for some $r > 0$ and $0 < \delta < \delta^{-1}$;

  \item $((\alpha g) \circ R_{r,\delta}) \cap R_{r,\delta} = \phi$, except for finitely many $\alpha \in \Gamma_{\infty}$, $g \in \Gamma_{\infty}\backslash \Gamma$.
\end{enumerate}

To prove (3), note that Lemma \ref{lm2} implies that $(g \circ R_{r,\delta}) \cap R_{r,\delta} = \phi$ except for finitely many $g \in \Gamma_{\infty}\backslash \Gamma$. Let $S \subset \Gamma_{\infty}\backslash \Gamma$ denote this finite set of such elements $g$. If $g \not\in S$, then Lemma \ref{lm2} tells us that it is because $\Im(g \circ z) < \delta$ for all $z \in R_{r,\delta}$. Since $\Im(\alpha g \circ z) = \Im(g \circ z)$ for $\alpha \in \Gamma_{\infty}$, it is enough to show that for each $g \in S$, there are only finitely many $\alpha \in \Gamma_{\infty}$ such that $((\alpha g) \circ R_{r,\delta}) \cap R_{r,\delta} \neq \phi$. This last statement follows from the fact that $g \circ R_{r,\delta}$ itself lies in some other rectangle $R_{r',\delta'}$, and every $\alpha \in \Gamma_{\infty}$ is of the form $\alpha =
  \begin{bmatrix}
    1 & -m \\
    0 & 1
  \end{bmatrix}
  (m \in \mathbb{Z})$, so that
\[
  \alpha \circ R_{r',\delta'} = \{x + iy \mid -r' + m \leq x \leq r' + m, \, 0 < \delta' \leq \delta''^{-1}\},
\]

which implies $(\alpha \circ R_{r',\delta'}) \cap R_{r,\delta} = \phi$ for $|m|$ sufficiently large.
Now we are ready to describe the domain for $\slz \backslash \uH$. First we need to specify what we mean by the term fundamental domain
\begin{definition}\label{fund-domain}
  Given a group $G$ acting on the set $X$. A \textbf{fundamental domain}  for this action is the set $D \subset X$ such that
  \begin{enumerate}
    \item For any $x \in X$, there exists a $d \in D$ such that $xg = d$.
    \item if $xg_1$ and $xg_2$ are both in the domain $D$, then $g_1=g_2$.In particular, the representative for the orbit of $x$ under the action of $G$ in $D$ is unique.
  \end{enumerate}
\end{definition}
\begin{example}
  Let $\mathbb{Z}$ acts on $\mathbb{R}$ by translation, namely $nx:= n+x$. Then it is easy to see that
  the fundamental domain for $\mathbb{R}/ \mathbb{Z}$ is the half interval $[0,1)$.
\end{example}
\begin{prop}\label{prop2}
  A fundamental domain for $\uH/ \slz$ can be given as the region
  \[\mathfrak{D} = \left\lbrace z=x+iy \in \uH: |z| \ge 1,-1/2 \le x < 1/2 \right\rbrace \cup \left\lbrace |z| = 1, x \le 0\right\rbrace  .\]
\end{prop}
\begin{proof}
  First we eliminated the repeated points on the boundary. Note that the line $x = -1/2$ is the same as
  the line $x=1/2$ under the transformation $z \mapsto z+1$. Similarly, given a point on the circle
  $\left\lbrace |z|=1\right\rbrace$, the transformation $z \mapsto -|z|^{-1}$ satisfies
  \[\dfrac{-1}{x+iy} = \dfrac{-x+iy}{x^2+y^2}=-x+iy,\]
  which flips the sign of $x$. Thus it identifies the half circle on the right of the imaginary axis with that on the left.

  Now we need to show two things:
  \begin{enumerate}
    \item For any $z \in \uH$ we can find an element $g \in \slz$ such that $g\circ z \in \mathfrak{D}$.
    \item If $z \equiv z' \in \mathfrak{D}$ modulor $\slz$, then either $\Re(z)=\pm\frac{1}{2}$ and $z'=z\mp 1$, or
          $|z|=1$ and $z' = \frac{-1}{z} $.
  \end{enumerate}
  First we prove for (1): Fix $z \in \uH$. It follows from Lemma \ref{lm2} that for every $\epsilon > 0$, there are at most finitely many $g \in \mathrm{SL}(2, \mathbb{Z})$ such that $g \circ z$ lies in the strip
  \[
    D_{\epsilon} := \left\{ w \ \middle|\ -\frac{1}{2} \leq \mathrm{Re}(w) < \frac{1}{2},\ \epsilon \leq \mathrm{Im}(w) \right\}.
  \]
  Let $B_{\epsilon}$ denote the finite set of such $g \in \mathrm{SL}(2, \mathbb{Z})$.
  Clearly, for sufficiently small $\epsilon$, the set $B_{\epsilon}$ contains at least one element. We will show that there is at least one $g \in B_{\epsilon}$ such that $g \circ z \in D$. Among these finitely many $g \in B_{\epsilon}$, choose one such that $\Im(g \circ z)$ is maximal in $D_{\epsilon}$.
  If $|g \circ z| < 1$, then for $S = \begin{bmatrix} 0 & -1 \\ 1 & 0 \end{bmatrix}$, $T=\begin{bmatrix} 1 & 1 \\ 0 & 1 \end{bmatrix}$
  we have, for any $m$,
  \[\Im\left( T^mS g \circ z \right)= \Im\left(\dfrac{-1}{g\circ z}\right)=\dfrac{\Im(g\circ z)}{|g\circ z|^2} > \Im(g\circ z)\]
  But we can choose $m$ such that $T^m S g\circ z \in D_\epsilon$, which contradicts the maximality of $\Im(g\circ z)$.

  Next we give a proof for (2):Let $z \in D$, $g = \begin{bmatrix} d & -b \\ -c & a \end{bmatrix} \in \mathrm{SL}(2, \mathbb{Z})$, and assume that $g \circ z \in D$. Without loss of generality, we may assume that
  \[
    \Im(g \circ z) = \frac{y}{|cz + d|^2} \geq \Im(z),
  \]
  (otherwise just interchange $z$ and $g \circ z$ and use $g^{-1}$). This implies that $|cz + d| \leq 1$ which implies that $1 \geq |cy| \geq \frac{1}{\sqrt{3}}|c|$. This is clearly impossible if $|c| \geq 2$. So we only have to consider the cases $c = 0, \pm 1$. If $c = 0$ then $d = \pm 1$ and $g$ is a translation by $b$. Since $-\frac{1}{2} \leq \Re(z), \Re(g \circ z) \leq \frac{1}{2}$, this implies that either $b = 0$ and $z = g \circ z$ or else $b = \pm 1$ and $\Re(z) = \pm \frac{1}{2}$ while $\Re(g \circ z) = \mp \frac{1}{2}$. If $c = 1$, then $|z + d| \leq 1$ implies that $d = 0$ unless $z = e^{2\pi i / 3}$ and $d = 0, -1$. The case $d = 0$ implies that $|z| \leq 1$ which implies $|z| = 1$. Also, in this case, $c = 1$, $d = 0$, we must have $b = -1$ because $ad - bc = 1$. Then $g \circ z = a - \frac{1}{z + 1}$. It follows that $g \circ z = a - e^{2\pi i / 3}$ and $d = 1$, then we must have $a - b = 1$. It follows that $g \circ z = a - \frac{1}{z + 1} = a + e^{2\pi i / 3}$, which implies that $a = 0$ or 1. A similar argument holds when $z = e^{\pi i / 3}$ and $d = -1$. Finally, the case $c = -1$ can be reduced to the previous case $c = 1$ by reversing the signs of $a, b, c, d$.
\end{proof}
\section{Lattices,upper half plane and $\SLR$}
In this section, we investigate the notion of semi-stable lattices and how the
upper half plane $\uH$ can be regard as a space of two-dimensional lattices. First we need to
define what a lattice is.
\begin{definition}\label{2-lattice }
  A \textbf{lattice} $L$ in $\mathbb{C}$ is an additive group of the form
  \[L = \mathbb{Z}\omega_1 \oplus  \mathbb{Z} \omega_2\]
  where $\omega_1,\omega_2$ are linearly independent over $\mathbb{R}$. We call the set $\left\{\omega_1,\omega_2\right\}$ a \textbf{base} for $L$.
\end{definition}
We want to classify 2-dimensional lattices, given they are "the same" under certain conditions. Note that, from the definition \ref{2-lattice }, a lattice
is specified by giving a base. Let us denote BAS the set of of $\mathbb{R}$-bases for $\mathbb{C}$ and $\text{BAS}^+$ the set of all bases $\{z,w\}$ such that
$\Im(z/w)>0$. We clearly have a map
\[\Phi \colon \text{BAS}^+ \to \{\text{lattices in } \mathbb{C}\}\]
where
\[\Phi(\{z,w\}) = \mathbb{Z}z\oplus \mathbb{Z}w\]
The maps is surjective, as we can always choose the sign of the elements in the base so that it is an element in $\text{BAS}^+$.
Let $\gamma =\begin{bmatrix}a & b \\ c & d\end{bmatrix} \in \SLR$ acts on $\text{BAS}^+$ in the following way
\[\gamma \{z,w\} = \{az+bw,cz+dw\}\]
It is clear that this is indeed an action. Two lattices in the same orbit under this action are called \text{similar}.  Modulo this action, we can define a bijective map as in the below lemma
\begin{lemma}
  Two bases in $\text{BAS}^+$ are mapped to the same lattice if they are in the same orbit under the action of $\SLR$. In particular, the quotient set
  $\SLR \backslash \text{BAS}^+$ are in bijection with the set of lattices in $\mathbb{C}$.
\end{lemma}
\begin{proof}
  Let $\{z,w\}$ and $\{z',w'\}$ be two bases such that
  \[\begin{cases}
      \Im(z/w)> 0  \\
      \Im(z'/w')>0 \\
      \Phi(z,w) = \Phi(z',w') = L
    \end{cases}\]
  Since $z',w'$ are elements in the lattice $L$ spanned by $\{z,w\}$, there exists $a,b,c,d \in \mathbb{Z}$ such that
  \[\begin{bmatrix}
      z' \\
      w'
    \end{bmatrix} =\begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix}\begin{bmatrix}
      z \\
      w
    \end{bmatrix}\]
  By the same argument, there must be $\alpha, \beta,\gamma, \delta \in \mathbb{Z}$ such that
  \[\begin{bmatrix}
      z \\
      w
    \end{bmatrix} =\begin{bmatrix}
      \alpha & \beta  \\
      \gamma & \delta
    \end{bmatrix}\begin{bmatrix}
      z' \\
      w'
    \end{bmatrix}\]
  Thus we must have
  \[\begin{bmatrix}
      \alpha & \beta  \\
      \gamma & \delta
    \end{bmatrix}\begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix} = \begin{bmatrix}
      1 & 0 \\
      0 & 1
    \end{bmatrix}\]
  The matrix $\begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix}$ has integral entries, which implies that $\det \begin{bmatrix}a & b \\  c & d\end{bmatrix} = \pm 1$. Note that
  \[ \Im\left(\dfrac{z'}{w'}\right) = \Im \left(\dfrac{az+bw}{cz+dw}\right) = \Im \left( \dfrac{a(z/w)+b}{b(z/w)+d}\right) = (ad-bc)\Im\left(\dfrac{z}{w}\right)\]
  Hence $ad-bc =1$ or $\begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix} \in \slz$.
\end{proof}
We also note that, each element $\{z,w\} \in \text{BAS}^+$ can be rescaled to get a base of the form $\{\tau,1\}$ where $\Im(\tau) = \Im(z/w)>0$. This mean we can also define another action - the
resclaling action on $\text{BAS}^+$. This action commutes with the action of $\SLR$, hence induces an action on the space of similar lattices $\SLR \backslash \text{BAS}^+$. In particular, we can choose
a representative for $\SLR \backslash \text{BAS}^+/\mathbb{C}^\times$ to be $\{\tau,1\}$ with $\Im(\tau)>0$. We just proved
\begin{prop}
  The upper half plane $\uH$ classifies similarity classes of two dimensional lattices.
\end{prop}
Now regard $\mathbb{C} \cong \mathbb{R}^2$ via $x+iy \mapsto (x,y)$, and the inner product is defined to be
\[\left\langle z_1, z_2 \right\rangle = x_1x_2 + y_1y_2,\]
where $z_i= x_i+iy_i$. With this inner product, we can define the volume of the lattice
\begin{definition}\label{volume-2-dim}
  Via the identification $\mathbb{C} \cong \mathbb{R}^2$ and let $e_1,e_2$ to be the usual standard basis for $\mathbb{R}^2$, the volume of
  a lattice $L=\mathbb{Z}z \oplus\mathbb{Z}w$ is given by
  \[\begin{bmatrix}
      \left\langle z,e_1\right\rangle & \left\langle z,e_2\right\rangle \\
      \left\langle w,e_1\right\rangle & \left\langle w,e_2\right\rangle
    \end{bmatrix}\]
\end{definition}
Now for any $z \in \uH$, the pair $(1,z)$ can be identified with the lattice
\[L_z = \mathbb{Z}z \oplus \mathbb{Z}.\]The lattice spanned by $z$ and $1$ has volume $y$, so the corresponding unit lattice is the one spanned
by $z/\sqrt{y}$ and $1/\sqrt{y}$.

Using Proposition $\ref{prop2}$, it is immediate that every lattice spanned by $1$ and $z$
is similar to lattice generated by $1$ and a point $z'$ inside ther region $\mathfrak{D}$.
\begin{definition}\label{prim-vector}
  A primitive vector is a vector such that it is not the multiple of any other vector in the lattice.
\end{definition}
\begin{prop}
  If $L$ is any lattice, and $u$ is a primitive vector in $L$, and $v'$ is a vector in the sublattice
  $L^\prime = L/\mathbb{Z}u$, then there exists a unique representative $v$ of $v'$ such that its projection onto $u$ lies in the interval
  $(-u/2,u/2]$. Moreover, the following inequality holds
  \[||v||^2 \le \dfrac{||u||^2}{4}+||v'||^2,\]
  where we identify $v'$ with a vector $v^\perp$ in the orthogonal complement of $u$.
\end{prop}

\begin{figure}[hbt!]
  \includegraphics[width=0.9\textwidth]{Shortest vector.png}
  \caption{}
\end{figure}

To see why every point $z \in \uH$ can be transformed into a point inside $\mathfrak{D}$,
we start with a lattice generated by the $\mathbb{Z}$-linear combination of $1,z$ and
consider the shortest vector $u$. Applying the above lemma, we can find a vector $v$ with the length as least
as large as that of $u$. So if we rotate and scale to get $u=1$, the vector $v$ will lie
in the strip $(-1/2,1/2]$ and has the length at least 1. This clearly show that $v$ is a point in the domain
$\mathfrak{D}$.


\vspace{\baselineskip}
Now Grayson - following a prior idea of Stuhler - associated every lattice to a sort of \textbf{Newton Polygon}.
We will set up a graph coordinate in the following way:
\begin{enumerate}
  \item First we construct a two dimensional coordinate, say $Oxy$
  \item We highlight the origin.
  \item If we are dealing with the lattice $L$, compute the area of the fundamental domain of $L$
  \item Assign the point $(2, \log(\vol(L)))$ to the line $x=2$ in the coordinate.
  \item If $v$ is any primitive vector, we put the point $(1,\log(||v||))$ in the set.
\end{enumerate}
Note that the lattice is discrete, so we can find a shortest vector $v$ of the lattice $L$. This will
correspond to the lowest point on the axis $x=1$ in the diagram. Note the that $x$-coordinate
of each of these point reflects its dimension.

As an example, let's consider the lattice of the following shape - with the shortest vector
$u$ has the length $||u||<1$.
\begin{figure}[h]
  \centering
  \begin{tikzpicture}
    \begin{scope}
      \clip (0,0) rectangle (10cm,10cm); % Clips the picture...
      \pgftransformcm{1}{0}{0.4}{1.5}{\pgfpoint{3cm}{3cm}} % Adjusted transformation matrix for less skew

      \draw[style=help lines,dashed] (-14,-14) grid[step=1cm] (14,14); % Draws a grid in the new coordinates
      \filldraw[fill=gray, draw=black] (0,0) rectangle (1,1); % Puts the shaded rectangle
      \foreach \x in {-7,-6,...,7}{                           % Two indices running over each
          \foreach \y in {-7,-6,...,7}{                       % node on the grid we have drawn 
              \node[draw,circle,inner sep=2pt,fill] at (\x,\y) {}; % Places a dot at those points
            }
        }
      % Draw the vector from (0,0) to (1,0) in the transformed coordinate system
      \draw[red, -Stealth, thick] (0,0) -- (1,0); % Vector from (0,0) to (1,0)
      \draw[red, -Stealth, thick] (0,0) -- (0,1); % Vector from (0,0) to (0,1)

    \end{scope}
    % Place the circle at the lowest-left vertex (3,3) in the original coordinate system
    \fill[blue!20,semitransparent] (3,3) circle (1.3cm); % Radius is 1.3cm to contain the shorter edge
  \end{tikzpicture}
  \caption{Example of a lattice}
  \label{fig:example}
\end{figure}
Now applying the above process, we get the figure on the left. If we further taking the convex hull of the diagram,
we will get the figure on the right
\begin{figure}[h]
  \centering
  \begin{minipage}{.2\textwidth}
    \begin{tikzpicture}[>=stealth, x=1.1cm, y=1.1cm]
      % Dashed lines (axes)
      \draw[help lines, dashed, ->] (-1,0) -- (3,0);
      \draw[help lines, dashed, ->] (0,-3) -- (0,3);
      \draw[help lines, dashed, ->] (1,-3) -- (1,3);
      \draw[help lines, dashed, ->] (2,-3) -- (2,3);

      % Points (all with fill=blue and radius=0.09cm)
      \filldraw[fill=blue] (2, -0.5) circle[radius=0.09cm];
      \filldraw[fill=blue] (0, 0) circle[radius=0.09cm]; % Removed duplicate
      \filldraw[fill=blue] (1, -0.7) circle[radius=0.09cm];

      \filldraw[fill=blue] (1, -0.3230737092181455) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.12122108098130914) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 2.28412917072110916) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 2.3729881287610001) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.4) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.5655158711807637) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 2.6445016116606668) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.7481703960405396) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.3282219276898275) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.0912647062501184) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.1603772291700336) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.2) circle[radius=0.09cm];
    \end{tikzpicture}~
  \end{minipage} \hspace{3cm} \begin{minipage}{.2\textwidth}
    \begin{tikzpicture}[>=stealth, x=1.1cm, y=1.1cm]
      % Dashed lines (axes)
      \draw[help lines, dashed, ->] (-1,0) -- (3,0);
      \draw[thick] (0,0) -- (0,3);
      \draw[thick] (0,0) -- (1, -0.7);
      \draw[thick] (1,-0.7) -- (2,-0.5);
      \draw[thick]  (2,-0.5) -- (2,3);
      \draw[help lines, dashed, ->] (0,-3) -- (0,3);
      \draw[help lines, dashed, ->] (1,-3) -- (1,3);
      \draw[help lines, dashed, ->] (2,-3) -- (2,3);

      % Points (all with fill=blue and radius=0.09cm)
      \filldraw[fill=blue] (2, -0.5) circle[radius=0.09cm];
      \filldraw[fill=blue] (0, 0) circle[radius=0.09cm]; % Removed duplicate
      \filldraw[fill=blue] (1, -0.7) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, -0.3230737092181455) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.12122108098130914) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 2.28412917072110916) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 2.3729881287610001) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.4) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.5655158711807637) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 2.6445016116606668) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 0.7481703960405396) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.3282219276898275) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.0912647062501184) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.1603772291700336) circle[radius=0.09cm];
      \filldraw[fill=blue] (1, 1.2) circle[radius=0.09cm];
    \end{tikzpicture}~
  \end{minipage}
\end{figure}
Clearly for each dimension, we have the corresponding lowest point, and so the convex hull of
the plot is bounded from below. Grayson calls the plot on the left \textbf{ canonical plot} of the lattice and
the boundary of the convex hull of the canonical plot its \textbf{canonical polygon}. In the expository \cite{}
of Bill Casselman, he instead calls the canonical polygon as \textbf{profile}. We will use the terminology of Casselman.

Now we will try to understand the profile of a lattice associated to a point $z \in \mathfrak{D}$. First we
prove a simple observation
\begin{lemma}
  If $z \in \mathfrak{D}$ then the lattice $L_z = \mathbb{Z}z\oplus \mathbb{Z}$ admits 1 as the shortest vector.
\end{lemma}
\begin{proof}
  We identify $z = x+iy$ with $(x,y) \in \mathbb{R}^2$ and $1$ with $(1,0) \in \mathbb{R}^2$.
  Assume that $1$ is not the shortest vector, then there exists $a,b \in \mathbb{Z}$ such that
  \[ |az+b|^2 < 1 \Leftrightarrow (ax+b)^2+(ay)^2 < 1\Leftrightarrow a^2|z|^2+2abx+b^2< 1\]
  Since $z \in \mathfrak{D}$, we clearly have $|x| \le \frac{1}{2}$ and $|z| \ge 1$,  thus the integers $a,b$ must
  satisfy
  \[ a^2 -|ab|+b^2 < 1\]
  Since the above expression are symmetric, we can assume $|a| \ge |b|$ and completing the square yields
  \[\left(\dfrac{\sqrt{3}b}{2}\right)^2 \ge a^2-ab+b^2 <1 \Rightarrow b^2<4/3 \Rightarrow b \le 1\]
  Substituting $|b|=1$ yields $|a|^2-|a|<0$. There is no non-zero integer $a$ satisfying this condition.
\end{proof}
The area of the lattice $L_z$ is given by $\det\begin{bmatrix}
    y & x \\
    0 & 1
  \end{bmatrix} = y$. Note that we can scale the basis by a factor $a=\sqrt{y}$ so that we get a lattice of volume $1$.
So the lowest points with respect to the axes $x = 0,1,2$ are $(0,0), (1,-\log(a))$, and $(2,0)$.
The interesting part of $\mathfrak{D}$ is where $y\le 1$. This corresponds to the lattices
that have the canonical plots lying entirely on or above the $x$-axis. In particular, the profile of such a lattice
only has the vertices at the origin and $(2,0)$. Grayson and Stuhler call this kind of lattice
\textbf{semi-stable}. If we don't normalize the area of such a lattice, then a semi-stable
lattice has the bottom of the profile as a straight line.

Conversely, the lattices assigned to the points $z \in \uH$ with $\Im(z)>1$ correspond to lattices
that have the canonical plot breaking at the lowest point on the axis $x=1$. In the general case, this reflects the fact that
a non semi-stable lattice has the shortest vector $u$ satisfying $||u||<\sqrt{\vol(L_z)}$. Following Casselman,
we call such a lattice \textbf{unstable}. In some sense, we can see that \textit{the degree of instability} is measured
by the shortest vector compared to its volume. In the above lemma, we only find the semi-stable locus inside the fundamental domain.
To find the semi-stable locus for the whole upper half plane $\uH$, we use the following lemma:
\begin{lemma}
  If $L_z$ is semi-stable, then so is the lattice $L_{g \circ z}$, where $g \in \SLR$.
\end{lemma}
\begin{proof}
  If we denote $L_z=\text{span}_\mathbb{Z}\left\lbrace 1,z\right\rbrace$, then $L_{\gamma\circ z} = cL_z$ for some complex number $c$.
  Indeed, we just need to check for $\gamma$ being an inversion or translation, since these two transformations generate $\SLR(\mathbb{Z})$, but this is easy.
  Now let $c = re^{it}$. Multiplying by $e^{it}$ doesn't change the length, hence doesn't change the semi-stability. Multiplying by a positive number
  $r$ will shift $(1,\log|u|)$ to $(1,\log|u|+\log r)$ and $(2,\log(\vol(A)))$ to $(2,\log(\vol(A))+2\log r)$.

  \todo{I think in 2-dimensional case, c is 1}

  The line segment $d$ connecting the origin with the final point intersects the line $x=1$ at $(1,\log(\vol(A))+\log r)$. By the semi-stability of the original lattice,
  the point $(1,\log|u|+\log r)$ is above the line segment $d$.
\end{proof}
From this lemma, we can see that the semi-stable locus is the complement of the Farey balls in the upper half plane, as illustrated in the
following figure, where the blue part is the semi-stable locus and the gray part is the unstable one.
\begin{figure}[h]
  \centering
  \begin{tikzpicture}[scale =3]
    % Define colors
    \definecolor{sapphire}{rgb}{0, 0.2, 0.6} % A deep blue for the region y < 1

    % Fill the entire visible area with sapphire (y < 1 region)
    \fill[sapphire] (-3, 0) rectangle (3, 1);

    % Fill the region y >= 1 with gray
    \fill[gray!20] (-3, 1) rectangle (3, 2);

    % Draw the x-axis and y-axis (without labels)
    \draw[->] (-3, 0) -- (3, 0);
    \draw[->] (0, -0.5) -- (0, 2);

    % Draw the line y = 1 (without label)
    \draw[dashed] (-3, 1) -- (3, 1);

    % Define a macro to draw a circle at (p/q, 0) with radius 1/(2q^2)
    \def\drawCircle#1#2{ % #1 = p, #2 = q
      \pgfmathsetmacro{\pq}{#1/(#2)} % Compute p/q
      \pgfmathsetmacro{\radius}{1/(2*(#2)^2)} % Compute radius = 1/(2q^2)
      \filldraw[fill=gray!20, draw=blue] (\pq, \radius) circle[radius=\radius cm]; % Fill with gray, outline in blue
      \filldraw[black] (\pq, 0) circle[radius=0.5pt]; % Mark the point (p/q, 0) with a smaller dot
    }

    % Draw circles for specific coprime pairs (p, q)
    % q = 1
    \drawCircle{-2}{1}
    \drawCircle{-1}{1}
    \drawCircle{0}{1}
    \drawCircle{1}{1}
    \drawCircle{2}{1}

    % q = 2
    \drawCircle{-3}{2}
    \drawCircle{-1}{2}
    \drawCircle{1}{2}
    \drawCircle{3}{2}

    % q = 3
    \drawCircle{-2}{3}
    \drawCircle{-1}{3}
    \drawCircle{1}{3}
    \drawCircle{2}{3}

    % q = 4
    \drawCircle{-3}{4}
    \drawCircle{-1}{4}
    \drawCircle{1}{4}
    \drawCircle{3}{4}

    % q = 5
    \drawCircle{-4}{5}
    \drawCircle{-3}{5}
    \drawCircle{-2}{5}
    \drawCircle{-1}{5}
    \drawCircle{1}{5}
    \drawCircle{2}{5}
    \drawCircle{3}{5}
    \drawCircle{4}{5}
  \end{tikzpicture}
  \caption{Semistable locus in upper half plane}
  \label{P-partition}
\end{figure}
\section{$\rho$-semi-stability of lattices}
The semi-stability can be defined in a more Lie-theoretic way. First we recall the Iwasawa decomposition
for $\SLR$.
\begin{prop}
  We have
  \[\SLR \cong K \times A \times N\]
  where
  \begin{itemize}
    \item $K=\SO2$: the special orthogonal group.
    \item $A = \left\lbrace \begin{bmatrix}
              a & 0      \\
              0 & a^{-1}
            \end{bmatrix}: a >0 \right\rbrace$.
    \item  $N = \left\lbrace \begin{bmatrix}
              1 & b \\
              0 & 1
            \end{bmatrix}\right\rbrace$.
  \end{itemize}
\end{prop}
Combinining with Proposition \ref{h-as-matrices}, we have the following identification
\[\uH \cong A \times N\]
via the map
\[x+iy \mapsto \begin{bmatrix}
    1/\sqrt{y} & 0        \\
    0          & \sqrt{y}
  \end{bmatrix}\begin{bmatrix}
    1 & -x \\
    0 & 1
  \end{bmatrix} = a\left(y\right)n(x)\]
Let's denote $\sl2$ the Lie algebra of the Lie group $\SLR$ - the vector space of traceless matrices of size $2 \times 2$. We denote
$\mathfrak{h} = \mathbb{R}H$ where $H =\begin{bmatrix}
    1 & 0  \\
    0 & -1
  \end{bmatrix}$ its standard Cartan subalgebra. We then have the map
\begin{align*}
  H_B \colon \uH \to \mathfrak{h}, \quad
  z = x+iy \mapsto \log(a(y))H = \frac{-1}{2}\log(\Im(z))
\end{align*}
Let $\alpha\colon \mathfrak{h} \to \mathbb{R}$ be the unique linear function such that
$\alpha(H)=2$. If we let $\rho = \dfrac{1}{2}\alpha$, then we define
\[\deg_{\text{inst}}(z):= \min_{\gamma \in  \Gamma/\Gamma \cap B} \left\langle \rho,H_B(z\gamma) \right\rangle\]
where $B$ is the group of upper triangular matrices with invertible entries along the diagonal.
\begin{definition}
  The lattice $L_z$ corresponds to the point $z \in \uH$ is called \textbf{$\rho$-semistable} or just \textbf{semi-stable}
  if $\deg_{inst}(z) \ge 0$.
\end{definition}
We shall use this definition to find the semi-stable locus in the upper half plane $\uH$.
\begin{prop}
  The locus of $\rho$-semistable points in the upper half plane $\uH$ is the
  complement of the Farey balls.
\end{prop}
\begin{proof}
  We first make simple observation: If $\deg_{\text{inst}}(z)$ is achieved at some
  $\gamma_0 \in \Gamma$ and $z$ is $\rho$-semistable, then
  \[\left\langle \rho, H_B(z\gamma)\right\rangle \ge 0 \mbox{ for all } \gamma \in \Gamma\]
  From this observation, the $\rho$-semistable locus must be the set
  \[ \left\lbrace z \in \uH: \left\langle \rho, H_B(z\gamma)\right\rangle \ge 0 \mbox{ for all } \gamma \in \Gamma \right\rbrace\]
  We identify $z=x+iy$ with the product $a(y)n(x)$ as above. Under the identification \ref{upper-group}, we must have
  \[\left\langle \rho, H_B(z\gamma) = -\log(a(\gamma^{-1} \circ z)) \right\rangle\]
  Assume that $\gamma^{-1} =
    \begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix}$, then $\gamma^{-1} \circ z$ satisfies
  \[\Im(\gamma^{-1}\circ z) = \dfrac{\Im(z)}{(cx+d)^2+(cy)^2}\]
  Thus, $z$ is semistable if and only if it satifies the inequalities
  \[y \le(cx+d)^2+(cy)^2  \Leftrightarrow \left(x+\dfrac{c}{d}\right)^2+\left(y-\dfrac{1}{2c^2}\right)^2 \ge \left(\dfrac{1}{2c^2}\right)^2 \]
  for any $c,d$ coprime. Since the above equation is exactly the equation for Farey balls, we are done.
\end{proof}
In particular, we just proved that the $\rho$-semistablility and the semistablility in Grayson's sense
are equivalent.
\subsection{Unstable lattices}
Consider an unstable lattice $L$ with a shortest vectur $u$, then the bottom
of the profile of $L$ has a break at the point $(1,\log(||u||))$. Clearly $u$ is a primitive vector, so $L_1 = \mathbb{Z}u$
is a sublattice of $L$. This determines a \textbf{lattice flag}
\[\mathcal{F}: 0 \subset L_1 \subset L_2 = L\]
And this is called the \textbf{canonical flag} associated to $L$. By tensoring with $\mathbb{R}$ we get
a flag of rational subspaces
\[0 \subset V_1 = L_1 \otimes \mathbb{R} \subset V_2 = L_2 \otimes \mathbb{R}\]
Conversely, for any rational flag $\mathcal{F}$ in $\mathbb{R}^2$, we can denote $\mathcal{H}_\mathcal{F}$ the set of all
unstable lattices that gives rise to the flag $\mathcal{F}$. What can we say about the set
$\mathcal{H}_\mathcal{F}$? It turns out that the can be parametrized by the Farey balls in the complex plane.
\begin{prop}
  Given a flag of rational vector spaces
  \[\mathcal{F}: 0 \subset V_1 \subset V_2 =\mathbb{R}^2\]
  Assume that $V_1 = \text{span}(pf_1+qf_2)$ for some $\mathbb{R}$- linearly independent set $\{f_1,f_2\}$ . Then
  the set $\mathcal{H}_\mathcal{F}$ corresponds to the Farey balls that is tangent to the $x-axis$ at the fraction $p/q$.
\end{prop}
\begin{figure}[h]
  \centering
  \begin{tikzpicture}[scale =10]
    % Draw the x-axis
    \draw[->] (-0.1,0) -- (0.7,0) node[right] {$x$};

    % Draw the enlarged Ford circle for 1/3
    % Original radius: 1/(2*3^2) = 0.0556, scaled by 2: 0.1112
    % Center: (1/3, 0.1112) â‰ˆ (0.333, 0.1112)
    \node[below] at (0.333,0) {};

    % Draw four additional enlarged circles tangent at (1/3, 0)
    % Circle 2: original radius 0.02, scaled to 0.04, center (0.333, 0.04)
    \draw[red, thick] (0.333,0.04) circle (0.04);
    % Circle 3: original radius 0.04, scaled to 0.08, center (0.333, 0.08)
    \draw[green, thick] (0.333,0.08) circle (0.08);
    % Circle 4: original radius 0.06, scaled to 0.12, center (0.333, 0.12)
    \draw[purple, thick] (0.333,0.12) circle (0.12);
    % Circle 5: original radius 0.08, scaled to 0.16, center (0.333, 0.16)
    \draw[orange, thick] (0.333,0.16) circle (0.16);

    % Mark the tangency point
    \fill (0.333,0) circle (0.009);
    \node[below] at (0.333,0) {$(p/q,0)$};
  \end{tikzpicture}
  \caption{The Farey Circles correspond to the same rational flag}
  \label{P-coordinate}
\end{figure}
\begin{proof}
  Consider the lattice $L=L_z \in \mathcal{H}_\mathcal{F}$ for $z = x+iy$. This lattice $L$ has a basis
  \[\begin{cases}
      f_1 = \dfrac{e_1}{\sqrt{y}} \\
      f_2 = \dfrac{-xe_1}{\sqrt{y}}+e_2\sqrt{y}
    \end{cases}\]
  Assume that $u=pf_1+qf_2$ is the shortest vector of $L$. Since $u$ is primitive, we must have $\gcd(p,q)=1$. Since the lattice
  $L$ is unstable, it follows that $\mu(L_1) \le \mu(L/L_1)$ for $L_1 = \mathbb{Z}u$. In particular, we have
  \[\dfrac{|-qz+p|}{\sqrt{y}} \le 1 \Leftrightarrow (-qx+p)^2 +(qy)^2 \le y \]
  If $q \ne 0$, this is the equation for the Farey balls that tangent to the horizonal axis at $(p/q,0)$. If $p=0$ then $q=1$, the equation
  $\dfrac{|-qz+p|}{\sqrt{y}} \le 1$ degenerates to $y \ge 1$. Hence we are done.
\end{proof}
\begin{remark}
  Note that for every flag in $\mathbb{R}^2$ corresponds to a parabolic subgroup. For example, the subgroup
  \[B = \begin{bmatrix}
      1 & n \\
      0 & 1
    \end{bmatrix}\]
  stabilizes the flag $0 \subset \mathbb{R}e_1 \subset \mathbb{R}^2$ for some choice of basis $\{e_1,e_2\}$ of $\mathbb{R}^2$. Any parabolic subgroup of $\SLR$ is conjugate with $B$. So there is a correspondence between
  rational parabolic subgroups of $\SLR$, that is, the parabolic subgroup that stabilizes a rational flag $\mathcal{F}$ - and the collections $\mathcal{H}_\mathcal{F}$ of lattices
  gives rise to the flag $\mathcal{F}$.
\end{remark}
\section{Lattices in higher rank}
Since lattices is the central object for studying in this thesis, we will define the notion of lattice of rank at least 3 in the last section in chapter I.
The definitions and properties of a general lattice will be used extensively in the later part of this thesis. Note that, in many reference, such as
\cite{}, the lattice is defined to be a module over a ring of algebraic integers, but we can always restrict to a $\mathbb{Z}$-module.
\subsection{Abstract lattices}
\begin{definition}[\label = Abstract $\mathbb{Z}$-lattices]
  Let $L$ be a finitely generated $\mathbb{Z}$-module. In particular, it is a free $\mathbb{Z}$-module
  of finite rank. Suppose that $L$ is endowed with a real-valued  positive definite\footnote{The non-degenerate implicity state that rank L is the same as $\text{dim} L_\mathbb{R}$} quadratic form $Q\colon L \to \mathbb{R}$, such that the set

  \[\left\lbrace x \in L: Q(x) \le r\right\rbrace \]
  is finite for any real number $r$.
  We will call  the pair $(L,Q)$ a \textbf{abstract $\mathbb{Z}$-lattice}.
\end{definition}

An easy example is to take $L = \mathbb{Z}^n$ and choose our quadratic form to be the standard one. namely
\[\left\langle x,y \right\rangle = x \cdot y = \sum_{i=1}^n x_iy_i\]
Here the multiplication is just the usual dot product between 2 vectors. In term of matrix, this quadratic form is assigned to the
identity matrix $I_n$.

If there is no further confusion, we can just denote a Euclidean lattice by $L$, without specifying the bilinear form
$Q$. The lattice $L$ determines a full-rank lattice inside $L_\mathbb{R}$, namely, the rank
of the lattice $L$ is equal to the dimension of $L_\mathbb{R}$.

\subsection{An alternative definition of lattices}
For the sake of computation, we also usually adopt another definition of the lattice.
In particular, we view lattice as a free $\mathbb{Z}-$ module of rank $n$ that is isomorphic
to $\mathbb{R}^n$ via base changing.
\begin{definition}\label{lattice2}
  A \textit{lattice} in $\mathbb{R}^n$ is a subset $L \subset \mathbb{R}^n$ such that there exists
  a basis $b_1,\ldots,b_n$ of $\mathbb{R}^n$ such that
  \[L = \mathbb{Z}b_1\oplus \mathbb{Z}b_2\oplus \ldots \mathbb{Z}b_n\]
  If we put the vector $b_1,b_2,\ldots,b_n$ in columns, with respect to the standard basis, namely
  \[g = [b_1 | b_2 | \ldots | b_n] ,\]
  then $L = g\mathbb{Z}^n$.
\end{definition}
In the second definition, we can just identify $L$ with the standard lattice $\mathbb{Z}^n$ and the
symmetric positive definite form is $g^tg$. So an Euclidean $\mathbb{Z}$-lattice is an abstract lattice with the standard
positive definite quadratic form.
\subsection{Equivalence between two definitions of lattices}
In this subsection, we will show that every abstract $\mathbb{Z}$- lattice is isomorphic to an Euclidean $\mathbb{Z}-$ lattice.
This will be helpful in visualizing the abstract lattices, as we are just looking at concrete lattices with deformation by a linear transformation.

First we need to specify the notion of isomorphic lattices - in the first definition
\begin{definition}
  A map $f \colon (L,Q)   \to (L',Q')$  is an \textbf{isomorhism} between lattices if it is a group isomorphism and
  for all $x \in L$, we have
  \[Q(x) = Q'(f(x)) \]
\end{definition}
\begin{prop}\label{equiv-def}
  Any abstract lattice is isomorphic to a Euclidean $\mathbb{Z}-$ lattice.
\end{prop}
\begin{proof}
  Let $(L,Q)$ be an arbitrary lattice. We define a bilinear form as
  \[ \left\langle x,y \right\rangle := \dfrac{Q(x+y)-Q(x-y)}{4}\]
  We will show that this bilinear form defines an inner product over the real vector space $L_\mathbb{R} = L \otimes_\mathbb{Z} \mathbb{R}$.
  Clearly we have $\left\langle x,x \right\rangle = 4Q(x)/4 = Q(x) \ge 0$ for all $x  \in L \setminus \left\lbrace 0 \right\rbrace$.
  Now the extended bilinear form is defined as
  \begin{align*}
    \left\langle \cdot,\cdot \right\rangle  \colon L_\mathbb{R} \times L_\mathbb{R} & \to      \mathbb{R}                      \\
    (x\otimes a, y \otimes b)                                                       & \mapsto  ab\left\langle x,y\right\rangle
  \end{align*}
  It is immediate that the extended bilinear form is inner product. So we have proved that
  $L_\mathbb{R}$ is a Euclidean space containing $L$. Moreover, $L$ is embedded injectively in $L_\mathbb{R}$
  as $\mathbb{R}$ is a flat $\mathbb{Z}$ module. The condition that
  \[ \# \left\lbrace x \in L: Q(x) \le r\right\rbrace < \infty\]
  implies $L$ can be identified with a discrete in $L_\mathbb{R}$. But this implies that there exists a basis
  $\left\lbrace b_1,\ldots,b_n\right\rbrace \subset L_\mathbb{R}$  such that
  \[L = \mathbb{Z}b_1\oplus \mathbb{Z}b_2\oplus \ldots \mathbb{Z}b_n\]
  Hence we are done.\todo{fix the proof so that we use the definition 1.4.}
\end{proof}
\subsection{Covolume of a lattice}
Now that for every abstract lattice $L$ we can find an invertible matrix $g$ such that
\[ L  \cong g\mathbb{Z}^n\]

The number $n$ is called the \textbf{rank} of the lattice $L$.

Let $\left\lbrace e_1,e_2,\ldots,e_n \right\rbrace$ be an orthonormal basis of $L_\mathbb{R} \cong \mathbb{R}^n$ and
\[g = [b_1 | b_2 | \ldots | b_n] .\] The covolume of the lattice
$L$ is defined as
\begin{definition}
  The covolume of $L$ is given by the formulae
  \[\vol(L) = \left|\det(b_i\cdot e_j)\right|\]
\end{definition}
The rank and covolume are invariant numerical values of $L$, as they don't depend on the choice of basis. Indeed, two bases of a rank $n$ lattice $L$
are related by a transformation $g \in \text{GL}_n(\mathbb{Z})$. Clearly this preserves the volume and the rank as a $\mathbb{Z}-$module.


\subsection{Sublattices}
To work with semi-stable lattice $L$, we need to consider all the sublattices contained inside $L$.
\begin{definition}[\label=sublattice]
  Let $(L,Q)$ be a Euclidean $\mathbb{Z}$-lattice. We say that a $\mathbb{Z}-$submodule $M$ of
  $L$ a \textbf{sublattice} if and only if $L/M$ is torsion free.
\end{definition}
From this definition, we can prove that $M$ is a sublattice of $L$ if it satisfies one of the
following equivalent properties:
\begin{enumerate}
  \item $M$ is a summand of $L$.
  \item every basis of $M$ can be extended to a basis of $L$.
  \item The group $M$ is an intersection of $L$ with a rational subspace of $L_\mathbb{R}$.
\end{enumerate}
We refer to the \cite{} for a proof of these equivalences.
\begin{example}
  If $L = \mathbb{Z}^2$, then any sublattice of $L$ is a primitive vector $u = (a,b)$, i.e
  $\gcd(a,b)=1$. Indeed, $u=(a,b)$ is a sublattice of $\mathbb{Z}^2$ if and only if there exists a vector $v \in \mathbb{Z}^2$
  such that $L = \mathbb{Z}u \oplus \mathbb{Z}v$. With respect to the usual inner product on $\mathbb{R}^2$,
  we have
  \[1 = \vol(\mathbb{Z}^2) = \det \begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix} = ad-bc\]
  This happens if and only if $\gcd(a,b)=1$.

  \begin{definition}
    Given a lattice $L$ and a subgroup $M \subset L$, then we call the  $M$ \textbf{primitive } if $L/M$ is torsion free. Equivalently, $M \subset L $ is a
    primitive sublattice if no non-zero multiples of non-members of $M$ are in M. In formula
    \[(M \otimes \mathbb{Q}) \cap L = M\]
  \end{definition}
  \begin{example}
    We consider the subgroup $M$ generated by a single element $v \in L$. Then $\mathbb{Z}v$ is primitive if and only if there is no $w \in L \setminus \{v\}$ such that 
    \[w = c\cdot v,\]
    for some integer $c$.
  \end{example}
\end{example}
